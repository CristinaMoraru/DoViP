<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · DoViP</title><meta name="title" content="Overview · DoViP"/><meta property="og:title" content="Overview · DoViP"/><meta property="twitter:title" content="Overview · DoViP"/><meta name="description" content="Documentation for DoViP."/><meta property="og:description" content="Documentation for DoViP."/><meta property="twitter:description" content="Documentation for DoViP."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DoViP</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Installation</span><ul><li><a class="tocitem" href="../Installation/">Overview</a></li><li><a class="tocitem" href="../installation_conda_dependencies/">Dependencies</a></li><li><a class="tocitem" href="../installation_DoViP_env/">DoViP environment</a></li></ul></li><li><span class="tocitem">Running</span><ul><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Modalities-to-call-DoViP"><span>Modalities to call DoViP</span></a></li><li><a class="tocitem" href="#DoViP-argument-syntax"><span>DoViP argument syntax</span></a></li></ul></li><li><a class="tocitem" href="../Running_singleworkflow_params/">Single workflow parameters</a></li><li><a class="tocitem" href="../Running_multipleworkflow_params/">Multiple workflows parameters</a></li></ul></li><li><span class="tocitem">Outputs</span></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Running</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CristinaMoraru/DoViP" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CristinaMoraru/DoViP/blob/main/docs_make/src/Running.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Running-DoViP-overview"><a class="docs-heading-anchor" href="#Running-DoViP-overview">Running DoViP - overview</a><a id="Running-DoViP-overview-1"></a><a class="docs-heading-anchor-permalink" href="#Running-DoViP-overview" title="Permalink"></a></h1><p>DoViP can be run in a single sample mode (<code>projtype=singleworkflow</code>) or in a multiple sample mode (<code>projtype=multipleworkflow</code>). In singleworkflow mode it processes only one sample (one input fasta file, representing a metagenome for example). There are many parameters required for the singleworkflow mode (see next page) and they should all be given as arguments at the command line. In multipleworkflow mode DoViP processes multiple samples (multiple input fasta files) one after the other, each with its own individual parameters (the same parameters as for singleworkflow mode, but without <code>pd_prefix</code>). These parameters should be given to DoViP as a .tsv table, where one row represents one sample. </p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Due to the high number of arguments needed by DoViP, it is easier to call it in <code>multipleworkflow</code> mode even when running one single sample, because in this mode most of parameters are given as a .tsv file. </p></div></div><h2 id="Modalities-to-call-DoViP"><a class="docs-heading-anchor" href="#Modalities-to-call-DoViP">Modalities to call DoViP</a><a id="Modalities-to-call-DoViP-1"></a><a class="docs-heading-anchor-permalink" href="#Modalities-to-call-DoViP" title="Permalink"></a></h2><p>After activating the corresponding conda environment, DoViP can be started simply by its name. This calls a bash function which starts the Julia programming language and the <code>DoViP_App.jl</code> module.  </p><pre><code class="nohighlight hljs">conda activate conda_DoViP

DoViP [...args]</code></pre><p>Alternatively, the <code>DoViP_App</code> module can be called directly, as exemplified below.  </p><pre><code class="nohighlight hljs">julia path/to/conda_DoViP/DoViP_App.jl/src/DoViP_App.jl [...args]</code></pre><p>Calling directly the <code>DoViP_App.jl</code> module is required when using tools like <code>nice</code> (to set process priorities) and <code>taskset</code> (to confine the processes only to a selected CPU subset).  </p><pre><code class="nohighlight hljs">nice -n 10 taskset -c 76-90 julia path/to/conda_DoViP/DoViP_App.jl/src/DoViP_App.jl [...args]</code></pre><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Some of the initial predictors (geNomad and DeepVir Finder) will run in all free cores from the machine, regardless of the number of <code>cpus_per_task</code> set by the user. In the case of geNomad that&#39;s usually fine. However, DeepVir Finder is considerably slowed down when there are many CPUs on the machine. Using <code>taskset</code> to confine the processes to a defined subset of the CPUs from the machine will successfully mitigate this problem.</p></div></div><p>The parameters used by DoViP for each sample are saved in its corresponding subfolder in the file <code>project_parameters_and_status.txt</code>. Besides the parameters, in this file it is also saved a brief status report showing which individual steps should be run, have been finished or are currently running. However, the complete log for each DoViP step is sent to the standard output. To save it and potential errors to a file, use the code below:  </p><pre><code class="nohighlight hljs">nice -n 10 taskset -c 76-90 julia path/to/conda_DoViP/DoViP_App.jl/src/DoViP_App.jl [...args] &gt; dovip_sample.log 2&gt; dovip_sample.err </code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If the project folder or individual sample subfolders already exist, for example from a previous DoViP run, and the DoViP is started with the parameter <code>continue=false</code>, the user will be asked at the standard output if the existent folders should be overwritten or not. This message will not be visible if the standard output is sent to a file.</p></div></div><h2 id="DoViP-argument-syntax"><a class="docs-heading-anchor" href="#DoViP-argument-syntax">DoViP argument syntax</a><a id="DoViP-argument-syntax-1"></a><a class="docs-heading-anchor-permalink" href="#DoViP-argument-syntax" title="Permalink"></a></h2><p>The arguments and their values should be given in the form <code>argument_name=argument_value</code>.   Example:</p><pre><code class="nohighlight hljs">DoViP projtype=multiworkflow continue=false allrefs_params=path/to/tsv_file_with_parameters spd=path/to/output_folder</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation_DoViP_env/">« DoViP environment</a><a class="docs-footer-nextpage" href="../Running_singleworkflow_params/">Single workflow parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Wednesday 31 July 2024 11:47">Wednesday 31 July 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>

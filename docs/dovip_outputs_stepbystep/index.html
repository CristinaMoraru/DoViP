<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Outputs - step by step breakdown · DoViP</title><meta name="title" content="Outputs - step by step breakdown · DoViP"/><meta property="og:title" content="Outputs - step by step breakdown · DoViP"/><meta property="twitter:title" content="Outputs - step by step breakdown · DoViP"/><meta name="description" content="Documentation for DoViP."/><meta property="og:description" content="Documentation for DoViP."/><meta property="twitter:description" content="Documentation for DoViP."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DoViP</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Installation</span><ul><li><a class="tocitem" href="../Installation/">Overview</a></li><li><a class="tocitem" href="../installation_conda_dependencies/">Dependencies</a></li><li><a class="tocitem" href="../installation_DoViP_env/">DoViP environment</a></li></ul></li><li><span class="tocitem">Running</span><ul><li><a class="tocitem" href="../Running/">Overview</a></li><li><a class="tocitem" href="../Running_singleworkflow_params/">Single workflow parameters</a></li><li><a class="tocitem" href="../Running_multipleworkflow_params/">Multiple workflows parameters</a></li></ul></li><li><span class="tocitem">DoViP projects and outputs</span><ul><li><a class="tocitem" href="../dovip_projects/">Project definition</a></li><li><a class="tocitem" href="../dovip_outputs_overview/">Outputs - overview</a></li><li class="is-active"><a class="tocitem" href>Outputs - step by step breakdown</a><ul class="internal"><li><a class="tocitem" href="#Removal-of-small-contigs"><span>Removal of small contigs</span></a></li><li><a class="tocitem" href="#Running-initial-predictors"><span>Running initial predictors</span></a></li><li><a class="tocitem" href="#Merging-and-checkV-for-non-integrated-viruses"><span>Merging and checkV for non-integrated viruses</span></a></li><li><a class="tocitem" href="#Merging-and-checkV-for-integrated-viruses"><span>Merging and checkV for integrated viruses</span></a></li><li><a class="tocitem" href="#Predicting-virus-lifestyles-with-PhaTYP"><span>Predicting virus lifestyles with PhaTYP</span></a></li><li><a class="tocitem" href="#Final-virus-selection-non-integrated-virus-branch"><span>Final virus selection - non-integrated virus branch</span></a></li><li><a class="tocitem" href="#Final-virus-selection-non-integrated-virus-branch-2"><span>Final virus selection - non-integrated virus branch</span></a></li><li><a class="tocitem" href="#Mixed-viruses"><span>Mixed viruses</span></a></li></ul></li><li><a class="tocitem" href="../continue_projs/">Continue projects</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">DoViP projects and outputs</a></li><li class="is-active"><a href>Outputs - step by step breakdown</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Outputs - step by step breakdown</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CristinaMoraru/DoViP" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CristinaMoraru/DoViP/blob/main/docs_make/src/dovip_outputs_stepbystep.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Outputs-step-by-step-breakdown"><a class="docs-heading-anchor" href="#Outputs-step-by-step-breakdown">Outputs - step by step breakdown</a><a id="Outputs-step-by-step-breakdown-1"></a><a class="docs-heading-anchor-permalink" href="#Outputs-step-by-step-breakdown" title="Permalink"></a></h1><h2 id="Removal-of-small-contigs"><a class="docs-heading-anchor" href="#Removal-of-small-contigs">Removal of small contigs</a><a id="Removal-of-small-contigs-1"></a><a class="docs-heading-anchor-permalink" href="#Removal-of-small-contigs" title="Permalink"></a></h2><p>Initialy, DoViP removes from the input file all contigs smaller than <code>min_contig_length</code>. The resulting fasta file is saved a folder with the sufix coresponding to <code>min_contig_length</code>, as shown below. </p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├──  ALL_00_min_length_#   (#=`min_contig_length`)
    |        ├── outMFasta_small.fna  
    ├──  ... </code></pre><h2 id="Running-initial-predictors"><a class="docs-heading-anchor" href="#Running-initial-predictors">Running initial predictors</a><a id="Running-initial-predictors-1"></a><a class="docs-heading-anchor-permalink" href="#Running-initial-predictors" title="Permalink"></a></h2><p>The .fna file from the removal of small contigs step is sent to each of the initial predictions selected by the user. The results from each intial predictor are saved into folders with corresponding names, within subfolders labeled with the sufix <code>_out</code>. The &quot;raw&quot; data from each predictor are further postprocessed by DoViP and saved saved in two .tsv files, one for the integrated viruses branch (geNomad, VirSorter2 and VIBRANT), and the other for the non-integrated viruses branch (geNomad, DeepVir Finder, VirSorter2, VIBRANT and ViralVerify). The two .tsv files are saved directly in these folders, as shown below.  </p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├──  ... 
    ├──  ALL-01a_genomad
    |        ├── ALL-01a_01_genomad_out
    |        ├── ALL-01a_02_postgenomad_integrated_df.tsv
    |        ├── ALL-01a_02_postgenomad_nonintegrated_df.tsv
    ├── ALL-01b_DVF
    |        ├── ALL-01b_01_DVF_out
    |        ├── ALL-01b_postdfvf_nonintegrated_df.tsv
    ├── ALL-01c_virSorter2
    |        ├── ALL-01c_01_virSorter2_out
    |        ├── ALL-01c_02_postVS2_integrated_df.tsv
    |        ├── ALL-01c_02_postVS2_nonintegrated_df.tsv
    ├── ALL-01d_vibrant
    |        ├── ALL-01d_01_vibrant_out
    |        ├── ALL-01d_02_postvibrant_integrated_df.tsv
    |        ├── ALL-01d_02_postvibrant_nonintegrated_df.tsv
    ├── ALL-01e_viralVerify
    |        ├── ALL-01e_01_viralVerify_out
    |        ├── ALL-01e_02_postViralVerify.tsv 
    ├──  ... </code></pre><h2 id="Merging-and-checkV-for-non-integrated-viruses"><a class="docs-heading-anchor" href="#Merging-and-checkV-for-non-integrated-viruses">Merging and checkV for non-integrated viruses</a><a id="Merging-and-checkV-for-non-integrated-viruses-1"></a><a class="docs-heading-anchor-permalink" href="#Merging-and-checkV-for-non-integrated-viruses" title="Permalink"></a></h2><p>In this step, DoViP first brings toghether all virus contigs estimated as lytic by the various predictors and their associated information, and saves them in a .tsv and a .fna file with the prefix <code>N-02_00</code>. The .fna file then is inputed in CheckV, and the results are saved in the <code>N-02_01_CheckV</code> folder. Postprocessing after checkV includes moving of the contigs marked as containing integrated viruses on the integrated viruses branch and then saving the remaining non-integrated viruses and their coresponding information in a .tsv and .fna file (prefix <code>N-02_02</code>). The folder structure and outputs are shown below.  </p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├── ...       
    ├── N-02_checkV_Nonintegrated
    |        ├── N-02_00_aggregated_nonintegrated_virus_contigs.tsv
    |        ├── N-02_00_aggregated_nonintegrated_virus_contigs.fna
    |        ├── N-02_01_checkV
    |        ├── N-02_02_postcheckV_nonintegrated_df.tsv
    |        ├── N-02_02_postcheckV_nonintegrated.fna
    ├──  ... </code></pre><h2 id="Merging-and-checkV-for-integrated-viruses"><a class="docs-heading-anchor" href="#Merging-and-checkV-for-integrated-viruses">Merging and checkV for integrated viruses</a><a id="Merging-and-checkV-for-integrated-viruses-1"></a><a class="docs-heading-anchor-permalink" href="#Merging-and-checkV-for-integrated-viruses" title="Permalink"></a></h2><p>In this step DoViP does the following:</p><ul><li>brings together all virus contigs estimated as &quot;temperate&quot; by the various predictors, and saved them in a .fna and a .tsv file with the prefix <code>I-02_00</code>.</li><li>inputs the .fna file in CheckV, and saves the results in the <code>I-02_01_checkVIntegrated_1</code> folder.</li><li>uses the information from the initial predictors and CheckV to remove host regions and to merge overlapping viral regions, and saved the them in a .fna and .tsv file with the prefix <code>I-02_03</code> (the filex with I<em>02</em>02 represent intermediary results).</li><li>sends the merged integrated viruses to CheckV, and saves the data in the folder <code>I-02_04_checkVIntegrated_2</code></li><li>postprocesses the output from the second CheckV step to confirm that no host-contamination is present and to add the completeness and other checkV data to the merged integrated viruses. The data are saved in the file with the <code>I-02_05</code> prefix.</li></ul><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├── ...
    ├── I-02_checkV_Integrated
    |        ├── I-02_00_aggregated_integrated_virus_All_contigs.tsv
    |        ├── I-02_00_aggregated_integrated_virus_All_contigs.fna
    |        ├── I-02_01_checkVIntegrated_1
    |        ├── I-02_02_postcheckV1_integrated_cordf.tsv
    |        ├── I-02_02_postcheckV1_integrated_withmergedprovirIDs_cordf.tsv
    |        ├── I-02_03_merged_integrated.tsv
    |        ├── I-02_03_merged_integrated.fna
    |        ├── I-02_04_checkVIntegrated_2
    |        ├── I-02_05_postcheckV2_integrated_df_p.tsv
    ├──  ... </code></pre><h2 id="Predicting-virus-lifestyles-with-PhaTYP"><a class="docs-heading-anchor" href="#Predicting-virus-lifestyles-with-PhaTYP">Predicting virus lifestyles with PhaTYP</a><a id="Predicting-virus-lifestyles-with-PhaTYP-1"></a><a class="docs-heading-anchor-permalink" href="#Predicting-virus-lifestyles-with-PhaTYP" title="Permalink"></a></h2><p>In this step DoViP sends the non-integrated viruses from the previous step (N-02<em>02</em>postcheckV<em>nonintegrated.fna) to PhaTYP, which predicts their potential life styles. The PhaTYP results are saved in the folder with the `</em>out<code>suffix. The predictions are then added to the previous data and saved in the .tsv file with the</code>N-03_02` prefix.</p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├── ...
    ├── N-03_phaTYPNonintegrated
    |        ├── N-03_01_phaTYP_out
    |        ├── N-03_02_NonINT_mergedPostCheckV_PhaTYP.tsv</code></pre><h2 id="Final-virus-selection-non-integrated-virus-branch"><a class="docs-heading-anchor" href="#Final-virus-selection-non-integrated-virus-branch">Final virus selection - non-integrated virus branch</a><a id="Final-virus-selection-non-integrated-virus-branch-1"></a><a class="docs-heading-anchor-permalink" href="#Final-virus-selection-non-integrated-virus-branch" title="Permalink"></a></h2><p>DoViP uses data in the <code>N-03_02_NonINT_mergedPostCheckV_PhaTYP.tsv</code> file to perform a final selection of the non-integrated virus contigs based on their completeness and the number of initial predictors. The results are saved as .fna and .tsv file, as shown below. </p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├── ...
    ├── N-04_FinalThresholding
    |        ├── N-04_Final_Viruses_df.tsv
    |        ├── N-04_Final_Viruses.fna
    └── ...</code></pre><h2 id="Final-virus-selection-non-integrated-virus-branch-2"><a class="docs-heading-anchor" href="#Final-virus-selection-non-integrated-virus-branch-2">Final virus selection - non-integrated virus branch</a><a class="docs-heading-anchor-permalink" href="#Final-virus-selection-non-integrated-virus-branch-2" title="Permalink"></a></h2><p>DoViP uses data in the <code>I-02_05_postcheckV2_integrated_df_p.tsv</code> file to perform a final selection of the integrated virus contigs based on their completeness and the number of initial predictors. The results are saved as .fna and .tsv file, as shown below. </p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├── ...
    ├── I-03_FinalThresholding
    |        ├── I-03_Final_Viruses_df.tsv
    |        ├── I-03_Final_Viruses.fna
    └── ...</code></pre><h2 id="Mixed-viruses"><a class="docs-heading-anchor" href="#Mixed-viruses">Mixed viruses</a><a id="Mixed-viruses-1"></a><a class="docs-heading-anchor-permalink" href="#Mixed-viruses" title="Permalink"></a></h2><p>It can happen that the same contig is identified by some initial predictors as non-integrated viruses and by some other predictors as harboring integrated viruses. DoViP identifies these mixed predictions and reports them in the <code>M_02_Detection</code> folder. The contigs reported in the two .tsv files, one for non-integrated branch and the other for the integrated branch, should be the same.</p><pre><code class="language-plaintext hljs">single_workflow_project_name/ 
    ├── ...
    ├── M-02_Detection
    |        ├── M-02_Mixed_Int_Viruses.tsv
    |        ├── M-02_Mixed_NonInt_Viruses.tsv
    └── ...</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../dovip_outputs_overview/">« Outputs - overview</a><a class="docs-footer-nextpage" href="../continue_projs/">Continue projects »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Friday 2 August 2024 13:07">Friday 2 August 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
